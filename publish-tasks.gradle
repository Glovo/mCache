task bintrayMCache(type: GradleBuild) {
    description = 'mCache publish routine'
    group = 'Publishing'
    buildFile = file('mcache/build.gradle')
    startParameter.projectProperties = gradle.startParameter.projectProperties
    def vName = rootProject.ext.versionName
    if (vName.contains("-SNAPSHOT") || vName.contains('-UNSTABLE') || vName.contains("-RC"))
        tasks = ['install', 'uploadArchives']
    else
        tasks = ['install', 'bintrayUpload']
}

task bintrayUploadProject(type: GradleBuild) {
    description = 'mCache publishing'
    group = 'Publishing'
    dependsOn bintrayMCache
}